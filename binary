#include <stdio.h>

void swap(int *a,int *b){
    int t=*a;
    *a=*b;
    *b=t;
}

int partition(int a[],int low,int high){
    int pivot=a[high];
    int i=low-1;
    int j;
    for(j=low;j<high;j++){
        if(a[j]<pivot){
            i++;
            swap(&a[i],&a[j]);
        }
    }
    swap(&a[i+1],&a[high]);
    return i+1;
}

void quickSort(int a[],int low,int high){
    if(low<high){
        int p=partition(a,low,high);
        quickSort(a,low,p-1);
        quickSort(a,p+1,high);
    }
}

int binarySearch(int a[],int n,int key){
    int low=0;
    int high=n-1;
    int mid;
    while(low<=high){
        mid=(low+high)/2;
        if(a[mid]==key) return mid;
        else if(a[mid]<key) low=mid+1;
        else high=mid-1;
    }
    return -1;
}

int main(){
    int n,i,key;
    int a[1000];

    printf("Enter number of elements: ");
    scanf("%d",&n);

    printf("Enter the elements:\n");
    for(i=0;i<n;i++){
        scanf("%d",&a[i]);
    }

    quickSort(a,0,n-1);

    printf("Sorted array:\n");
    for(i=0;i<n;i++){
        printf("%d ",a[i]);
    }

    printf("\nEnter element to search: ");
    scanf("%d",&key);

    i=binarySearch(a,n,key);

    if(i==-1) printf("Element not found\n");
    else printf("Element found at index %d\n",i);

    return 0;
}
